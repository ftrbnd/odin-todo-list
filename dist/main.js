(()=>{var e={497:e=>{function t(e,t){let o=t;return e.forEach((e=>{o=o.replace(e,"")})),o}e.exports=function({length:e=20,useLetters:o=!0,useNumbers:n=!0,includeSymbols:r=[],excludeSymbols:c=[]}={}){let i="abcdefghijklmnopqrstuvwxyz",l="0123456789",s=[],a=[],d=[];return o&&(c.length&&(i=t(c,i)),a=i.split("")),n&&(c.length&&(l=t(c,l)),d=l.split("")),s=[...a,...d,...r],function(e,t){let o="";for(let r=0;r<t;r+=1)o+=e[(n=e.length,Math.floor(Math.random()*n).toString())];var n;return o}(s,e)}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{constructor(e,t,o=""){this.id=e,this.title=t,this.description=o,this.items=[]}}function t(e){const t=document.createElement("div");t.classList.add("item");const o=document.createElement("h3");o.textContent=e.title,o.classList.add("title");const r=document.createElement("h4");r.textContent=e.description,r.style.fontStyle="italic",r.style.fontWeight="normal",r.classList.add("desc");const c=document.createElement("h4");c.textContent=`Due date: ${e.dueDate}`,c.style.fontWeight="normal",c.classList.add("dueDate");const i=document.createElement("h4");return i.textContent=`Priority level: ${e.priority}`,i.style.fontWeight="normal",i.classList.add("priority"),t.appendChild(o),t.appendChild(r),t.appendChild(c),t.appendChild(i),t.addEventListener("click",n),t}function n(e){e.stopPropagation(),console.log(`${e.target.tagName} was selected`)}function r(e){const o=document.createElement("div");o.classList.add("project");const n=document.createElement("h3");return n.textContent=e.title,n.classList.add("title"),o.appendChild(n),o.addEventListener("click",(()=>{if(localStorage.getItem("main-project-id")==e.id)return console.log(`The same project was selected. (${e.title})`);console.log(`Project "${e.title}" was selected`),localStorage.setItem("main-project-id",e.id),document.querySelector("#main-project > h2").textContent=e.title,document.querySelector("#main-project > p").textContent=e.description;const o=document.querySelector("div#todo-items");for(;o.firstChild;)o.removeChild(o.firstChild);const n=JSON.parse(localStorage.getItem(e.id)).items;console.log(n);for(let e of n)e&&(e=JSON.parse(e),o.appendChild(t(e)))})),o}const c=document.querySelector("div#projects"),i=document.querySelector("form#new-project");function l(){console.log("newProjectButton click"),i.style.display?i.removeAttribute("style"):i.style.display="flex"}var s=o(497),a=o.n(s);class d{constructor(e,t,o="",n=new Date,r=1){this.id=e,this.title=t,this.description=o,this.dueDate=n||new Date,this.priority=r||1}}const m=document.querySelector("div#default");function u(){console.log("newItemButton click");const e=document.querySelector("form#new-item");e.style.display?e.removeAttribute("style"):e.style.display="flex"}const p=o(497);!function(){const e=document.querySelector("div#header"),t=document.createElement("h1");t.textContent="Todo List",e.appendChild(t)}(),function(){const o=function(){let t=localStorage.getItem("main-project-id");if(!t){t=`project-${a()()}`,localStorage.setItem("main-project-id",t);const o=new e(t,"Default Project","This is your default project");localStorage.setItem(t,JSON.stringify(o));let n=localStorage.getItem("user-projects")||"";n+=`${t},`,localStorage.setItem("user-projects",n)}return console.log(`Main project id: ${t}`),JSON.parse(localStorage.getItem(t))}();!function(){const e=document.querySelector("form#new-item"),t=localStorage.getItem("main-project-id"),o=JSON.parse(localStorage.getItem(t)),n=document.createElement("div");n.setAttribute("id","main-project");const r=document.createElement("h2");r.textContent=o.title,n.appendChild(r);const c=document.createElement("p");c.textContent=o.description;const i=document.createElement("button");i.id="new-item",i.textContent="New",i.addEventListener("click",u),n.appendChild(c),n.appendChild(i),m.insertBefore(n,e)}(),function(e){const o=document.createElement("div");o.setAttribute("id","todo-items"),m.appendChild(o);for(let n of e.items)n=JSON.parse(n),o.appendChild(t(new d(n.id,n.title,n.description,n.dueDate,n.priority)))}(o)}(),function(){!function(){const e=document.createElement("div");e.setAttribute("id","projects-header");const t=document.createElement("h2");t.textContent="My Projects",e.appendChild(t);const o=document.createElement("button");o.id="new-project",o.textContent="New",o.addEventListener("click",l),e.appendChild(o),c.insertBefore(e,i)}();const t=document.createElement("div");t.id="projects-list",c.appendChild(t);const o=localStorage.getItem("user-projects").split(",");for(const n of o){if(!n)continue;const o=JSON.parse(localStorage.getItem(n));t.appendChild(r(new e(o.id,o.title,o.description)))}}(),function(){const t=document.querySelector("div#projects-list"),o=document.querySelector("form#new-project");o.addEventListener("submit",(n=>{n.preventDefault();const c=[...new FormData(n.target).entries()],i=`project-${p()}`,l=new e(i,c[0][1],c[1][1]);console.log("Created a new project: ",l),localStorage.setItem(i,JSON.stringify(l));const s=localStorage.getItem("user-projects")+`${i},`;localStorage.setItem("user-projects",s),t.appendChild(r(l)),console.log("Local storage after adding project: ",localStorage),o.reset(),o.removeAttribute("style")}))}(),function(){const e=document.querySelector("div#todo-items"),o=document.querySelector("form#new-item");o.addEventListener("submit",(n=>{n.preventDefault();const r=[...new FormData(n.target).entries()],c=`item-${p()}`,i=new d(c,r[0][1],r[1][1],r[2][1],r[3][1]);console.log("Created a new todo item: ",i);const l=localStorage.getItem("main-project-id"),s=JSON.parse(localStorage.getItem(l));s.items.push(JSON.stringify(i)),localStorage.setItem(l,JSON.stringify(s)),e.appendChild(t(i)),console.log("Local storage after adding item: ",localStorage),o.reset(),o.removeAttribute("style")}))}()})()})();